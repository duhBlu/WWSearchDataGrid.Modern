<Window x:Class="WWSearchDataGrid.Modern.SampleApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WWSearchDataGrid.Modern.SampleApp"
        xmlns:sdg="clr-namespace:WWSearchDataGrid.Modern.WPF;assembly=WWSearchDataGrid.Modern.WPF"
        xmlns:sdgCore="clr-namespace:WWSearchDataGrid.Modern.Core;assembly=WWSearchDataGrid.Modern.Core"
        xmlns:sampleConverters="clr-namespace:WWSearchDataGrid.Modern.SampleApp.Converters"
        Title="SearchDataGrid Demo"
        Width="1280"
        Height="800"
        WindowStartupLocation="CenterOwner"
        mc:Ignorable="d">
    <Window.DataContext>
        <local:MainViewModel />
    </Window.DataContext>

    <Window.Resources>

        <!--  Converters  -->
        <sampleConverters:BooleanToStringConverter x:Key="BooleanToStringConverter" />
        <sampleConverters:NullToBooleanConverter x:Key="NullToBooleanConverter" />
        <sampleConverters:ColumnDisplayNameConverter x:Key="ColumnDisplayNameConverter" />

        <!--  Data  -->
        <CollectionViewSource x:Key="ComboBoxItemsSource" Source="{Binding ComboBoxItems}" />
        <CollectionViewSource x:Key="ComboBoxStringSource" Source="{Binding ComboBoxStringValues}" />

        <!--  Non sdg Styles  -->
        <Style x:Key="DefaultButtonStyle" TargetType="Button">
            <Setter Property="Padding" Value="10,5" />
            <Setter Property="Background" Value="#FFFFFF" />
            <Setter Property="BorderBrush" Value="#CCCCCC" />
            <Setter Property="Foreground" Value="#333333" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="3">
                            <ContentPresenter Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#F0F0F0" />
                                <Setter Property="BorderBrush" Value="#AAAAAA" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#E0E0E0" />
                                <Setter Property="BorderBrush" Value="#999999" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <DockPanel>
        <!--  Header with app title  -->
        <StackPanel Background="white" Orientation="Horizontal">
            <StackPanel.Resources>
                <ScaleTransform x:Key="scale" ScaleX="0.8" ScaleY="0.8" />
            </StackPanel.Resources>
            <!--<Image Height="18" Width="18" Margin="5" Source="{StaticResource EqualsDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Does_not_equalDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_greater_thanDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_greater_than_or_equal_toDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_less_thanDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_less_than_or_equal_toDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_betweenDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_not_betweenDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource ContainsDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Does_not_containDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Starts_withDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Ends_withDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_likeDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_not_likeDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_any_ofDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_none_ofDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Top_NDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Bottom_NDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Above_averageDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Below_AverageDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_null_or_blankDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_not_null_or_blankDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource UniqueDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource DuplicateDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Beyond_This_YearDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Later_This_YearDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Later_This_MonthDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Next_WeekDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Later_This_WeekDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_TomorrowDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_TodayDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_YesterdayDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Earlier_This_WeekDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Last_WeekDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Earlier_This_MonthDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Earlier_This_MonthDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Earlier_This_YearDrawingImage}" />
                    <Image Height="18" Width="18" Margin="5" Source="{StaticResource Is_Prior_This_YearDrawingImage}" />-->
        </StackPanel>

        <!--  Control Panel  -->
        <Grid DockPanel.Dock="Bottom" Background="#F0F0F0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!--  Item Counter  -->
            <StackPanel Grid.Column="0"
                        Orientation="Horizontal"
                        Margin="15,0,0,0"
                        VerticalAlignment="Center">

                <TextBlock Text="Total Data Items: "
                           VerticalAlignment="Center"
                           FontWeight="Bold" />
                <TextBlock Text="{Binding ItemCount, StringFormat={}{0:N0}}" VerticalAlignment="Center" />

                <TextBlock Text="Filtered Rows: "
                           Margin="10,0,0,0"
                           VerticalAlignment="Center"
                           FontWeight="Bold" />
                <TextBlock Text="{Binding ElementName=SearchDataGrid, Path=Items.Count, StringFormat={}{0:N0}, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" />
            </StackPanel>

            <Button Style="{StaticResource DefaultButtonStyle}"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Background="#6A4C93"
                    Foreground="White"
                    Command="{Binding ToggleThemeCommand}"
                    Margin="5"
                    Padding="10,5"
                    HorizontalAlignment="Center">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Theme: " />
                    <TextBlock Text="{Binding CurrentThemeName}" FontWeight="Bold" />
                </StackPanel>
            </Button>



            <!--  Buttons  -->
            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <sdg:NumericUpDown Increment="1000" Value="{Binding ItemsToGenerate, Mode=TwoWay}" />
                <Button Style="{StaticResource DefaultButtonStyle}"
                        Background="#007ACC"
                        Foreground="White"
                        Command="{Binding PopulateDataCommand}"
                        Margin="5"
                        Padding="10,5"
                        Content="Generate Data" />

                <Button Style="{StaticResource DefaultButtonStyle}"
                        Command="{Binding AddItemCommand}"
                        Margin="5"
                        Padding="10,5"
                        Content="Add Item" />

                <Button Style="{StaticResource DefaultButtonStyle}"
                        Command="{Binding RemoveItemCommand}"
                        Margin="5"
                        Padding="10,5"
                        Content="Remove Item" />

                <Button Style="{StaticResource DefaultButtonStyle}"
                        Command="{Binding ClearDataCommand}"
                        Margin="5"
                        Padding="10,5"
                        Content="Clear Data" />
            </StackPanel>
        </Grid>

        <!--  SearchDataGrid with Property Panel  -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="300" />
            </Grid.ColumnDefinitions>
            <!--<DataGrid x:Name="DataGrid"
          Grid.Row="0"
          IsReadOnly="False"
          Margin="10"
          ItemsSource="{Binding Items}"
          CanUserAddRows="False"
          AutoGenerateColumns="False">

                <DataGrid.Columns>
                    <DataGridTextColumn Width="120"
                            Header="Customer Name"
                            Binding="{Binding CustomerName}" />

            -->
            <!--  Boolean Types  -->
            <!--
                    <DataGridCheckBoxColumn Width="80"
                                Header="Bool Value"
                                Binding="{Binding BoolValue}" />
                    <DataGridCheckBoxColumn Width="100"
                                Header="Nullable Bool"
                                Binding="{Binding NullableBoolValue}" />

            -->
            <!--  Integer Types  -->
            <!--
                    <DataGridTextColumn Width="80"
                            Header="Int"
                            Binding="{Binding IntValue}" />
                    <DataGridTextColumn Width="90"
                            Header="Nullable Int"
                            Binding="{Binding NullableIntValue}" />
                    <DataGridTextColumn Width="90"
                            Header="Long"
                            Binding="{Binding LongValue}" />
                    <DataGridTextColumn Width="100"
                            Header="Nullable Long"
                            Binding="{Binding NullableLongValue}" />
                    <DataGridTextColumn Width="70"
                            Header="Short"
                            Binding="{Binding ShortValue}" />
                    <DataGridTextColumn Width="90"
                            Header="Nullable Short"
                            Binding="{Binding NullableShortValue}" />
                    <DataGridTextColumn Width="60"
                            Header="Byte"
                            Binding="{Binding ByteValue}" />
                    <DataGridTextColumn Width="80"
                            Header="Nullable Byte"
                            Binding="{Binding NullableByteValue}" />

            -->
            <!--  Floating-point and Decimal Types  -->
            <!--
                    <DataGridTextColumn Width="80"
                            Header="Float"
                            Binding="{Binding FloatValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="100"
                            Header="Nullable Float"
                            Binding="{Binding NullableFloatValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="90"
                            Header="Double"
                            Binding="{Binding DoubleValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="110"
                            Header="Nullable Double"
                            Binding="{Binding NullableDoubleValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="90"
                            Header="Decimal"
                            Binding="{Binding DecimalValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="110"
                            Header="Nullable Decimal"
                            Binding="{Binding NullableDecimalValue, StringFormat=N2}" />

            -->
            <!--  Text Types  -->
            <!--
                    <DataGridTextColumn Width="100"
                            Header="String Value"
                            Binding="{Binding StringValue}" />
                    <DataGridTextColumn Width="60"
                            Header="Char"
                            Binding="{Binding CharValue}" />
                    <DataGridTextColumn Width="80"
                            Header="Nullable Char"
                            Binding="{Binding NullableCharValue}" />

            -->
            <!--  Date and Time Types with Precision  -->
            <!--
                    <DataGridTextColumn Width="140"
                            Header="DateTime"
                            Binding="{Binding DateTimeValue, StringFormat=g}" />
                    <DataGridTextColumn Width="150"
                            Header="Nullable DateTime"
                            Binding="{Binding NullableDateTimeValue, StringFormat=g}" />
                    <DataGridTextColumn Width="100"
                            Header="TimeSpan"
                            Binding="{Binding TimeSpanValue}" />
                    <DataGridTextColumn Width="120"
                            Header="Nullable TimeSpan"
                            Binding="{Binding NullableTimeSpanValue}" />

            -->
            <!--  GUID Types  -->
            <!--
                    <DataGridTextColumn Width="120"
                            Header="GUID"
                            Binding="{Binding GuidValue}" />
                    <DataGridTextColumn Width="130"
                            Header="Nullable GUID"
                            Binding="{Binding NullableGuidValue}" />

            -->
            <!--  Enum Types  -->
            <!--
                    <DataGridTextColumn Width="80"
                            Header="Priority Enum"
                            Binding="{Binding PriorityValue}" />
                    <DataGridTextColumn Width="100"
                            Header="Nullable Priority Enum"
                            Binding="{Binding NullablePriorityValue}" />
                </DataGrid.Columns>
            </DataGrid>-->


            <sdg:SearchDataGrid x:Name="SearchDataGrid"
                                Grid.Column="0"
                                IsReadOnly="False"
                                Margin="10"
                                EnableRuleFiltering="True"
                                SelectionMode="Extended"
                                SelectionUnit="CellOrRowHeader"
                                ItemsSource="{Binding Items}"
                                CanUserAddRows="False">
                <sdg:SearchDataGrid.Columns>

                    <!--  String / Customer  -->
                    <DataGridTextColumn Width="120"
                                        sdg:GridColumn.EnableRuleFiltering="False"
                                        sdg:GridColumn.FilterMemberPath="CustomerName"
                                        sdg:GridColumn.ColumnDisplayName="Customer - With Custom Display Name!!!"
                                        sdg:GridColumn.DefaultSearchMode="StartsWith"
                                        SortMemberPath="CustomerName"
                                        Header="Customer Name"
                                        Binding="{Binding CustomerName}" />

                    <!--  Boolean Types with Explicit Checkbox Filtering  -->
                    <DataGridCheckBoxColumn Width="110"
                                            sdg:GridColumn.UseCheckBoxInSearchBox="True"
                                            sdg:GridColumn.FilterMemberPath="BoolValue"
                                            sdg:GridColumn.IsSelectAllColumn="True"
                                            sdg:GridColumn.SelectAllScope="SelectedRows"
                                            SortMemberPath="BoolValue"
                                            Binding="{Binding BoolValue}">
                        <DataGridCheckBoxColumn.Header>
                            <TextBlock Text="Bool Value" />
                        </DataGridCheckBoxColumn.Header>
                    </DataGridCheckBoxColumn>

                    <DataGridCheckBoxColumn Width="100"
                                            sdg:GridColumn.UseCheckBoxInSearchBox="True"
                                            sdg:GridColumn.FilterMemberPath="NullableBoolValue"
                                            sdg:GridColumn.IsSelectAllColumn="True"
                                            sdg:GridColumn.SelectAllScope="FilteredRows"
                                            SortMemberPath="NullableBoolValue"
                                            Header="Nullable Bool"
                                            Binding="{Binding NullableBoolValue}" />

                    <!--  Integer Types  -->
                    <DataGridTextColumn Width="80"
                                        sdg:GridColumn.EnableRuleFiltering="True"
                                        sdg:GridColumn.FilterMemberPath="IntValue"
                                        sdg:GridColumn.DefaultSearchMode="EndsWith"
                                        SortMemberPath="IntValue"
                                        Header="Int"
                                        Binding="{Binding IntValue}" />
                    <DataGridTextColumn Width="90"
                                        sdg:GridColumn.FilterMemberPath="NullableIntValue"
                                        SortMemberPath="NullableIntValue"
                                        Header="Nullable Int"
                                        Binding="{Binding NullableIntValue}" />
                    <DataGridTextColumn Width="90"
                                        sdg:GridColumn.FilterMemberPath="LongValue"
                                        SortMemberPath="LongValue"
                                        Header="Long"
                                        Binding="{Binding LongValue}" />
                    <DataGridTextColumn Width="100"
                                        sdg:GridColumn.FilterMemberPath="NullableLongValue"
                                        SortMemberPath="NullableLongValue"
                                        Header="Nullable Long"
                                        Binding="{Binding NullableLongValue}" />
                    <DataGridTextColumn Width="70"
                                        sdg:GridColumn.FilterMemberPath="ShortValue"
                                        SortMemberPath="ShortValue"
                                        Header="Short"
                                        Binding="{Binding ShortValue}" />
                    <DataGridTextColumn Width="90"
                                        sdg:GridColumn.FilterMemberPath="NullableShortValue"
                                        SortMemberPath="NullableShortValue"
                                        Header="Nullable Short"
                                        Binding="{Binding NullableShortValue}" />
                    <DataGridTextColumn Width="60"
                                        sdg:GridColumn.FilterMemberPath="ByteValue"
                                        SortMemberPath="ByteValue"
                                        Header="Byte"
                                        Binding="{Binding ByteValue}" />
                    <DataGridTextColumn Width="80"
                                        sdg:GridColumn.FilterMemberPath="NullableByteValue"
                                        SortMemberPath="NullableByteValue"
                                        Header="Nullable Byte"
                                        Binding="{Binding NullableByteValue}" />

                    <!--  Floating-point and Decimal Types  -->
                    <DataGridTextColumn Width="80"
                                        sdg:GridColumn.FilterMemberPath="FloatValue"
                                        SortMemberPath="FloatValue"
                                        Header="Float"
                                        Binding="{Binding FloatValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="100"
                                        sdg:GridColumn.FilterMemberPath="NullableFloatValue"
                                        SortMemberPath="NullableFloatValue"
                                        Header="Nullable Float"
                                        Binding="{Binding NullableFloatValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="90"
                                        sdg:GridColumn.FilterMemberPath="DoubleValue"
                                        SortMemberPath="DoubleValue"
                                        Header="Double"
                                        Binding="{Binding DoubleValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="110"
                                        sdg:GridColumn.FilterMemberPath="NullableDoubleValue"
                                        SortMemberPath="NullableDoubleValue"
                                        Header="Nullable Double"
                                        Binding="{Binding NullableDoubleValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="90"
                                        sdg:GridColumn.FilterMemberPath="DecimalValue"
                                        SortMemberPath="DecimalValue"
                                        Header="Decimal"
                                        Binding="{Binding DecimalValue, StringFormat=N2}" />
                    <DataGridTextColumn Width="110"
                                        sdg:GridColumn.FilterMemberPath="NullableDecimalValue"
                                        SortMemberPath="NullableDecimalValue"
                                        Header="Nullable Decimal"
                                        Binding="{Binding NullableDecimalValue, StringFormat=N2}" />

                    <!--  Text Types  -->
                    <DataGridTextColumn Width="100"
                                        sdg:GridColumn.FilterMemberPath="StringValue"
                                        SortMemberPath="StringValue"
                                        Header="String Value"
                                        Binding="{Binding StringValue}" />
                    <DataGridTextColumn Width="60"
                                        sdg:GridColumn.FilterMemberPath="CharValue"
                                        SortMemberPath="CharValue"
                                        Header="Char"
                                        Binding="{Binding CharValue}" />
                    <DataGridTextColumn Width="80"
                                        sdg:GridColumn.FilterMemberPath="NullableCharValue"
                                        SortMemberPath="NullableCharValue"
                                        Header="Nullable Char"
                                        Binding="{Binding NullableCharValue}" />

                    <!--  Date and Time Types with Precision  -->
                    <DataGridTextColumn Width="140"
                                        sdg:GridColumn.FilterMemberPath="DateTimeValue"
                                        SortMemberPath="DateTimeValue"
                                        Header="DateTime"
                                        Binding="{Binding DateTimeValue, StringFormat=g}" />
                    <DataGridTextColumn Width="150"
                                        sdg:GridColumn.FilterMemberPath="NullableDateTimeValue"
                                        SortMemberPath="NullableDateTimeValue"
                                        Header="Nullable DateTime"
                                        Binding="{Binding NullableDateTimeValue, StringFormat=g}" />

                    <!--  Enum Types  -->
                    <DataGridTextColumn Width="80"
                                        sdg:GridColumn.FilterMemberPath="PriorityValue"
                                        SortMemberPath="PriorityValue"
                                        Header="Priority Enum"
                                        Binding="{Binding PriorityValue}" />
                    <DataGridTextColumn Width="100"
                                        sdg:GridColumn.FilterMemberPath="NullablePriorityValue"
                                        SortMemberPath="NullablePriorityValue"
                                        Header="Nullable Priority Enum"
                                        Binding="{Binding NullablePriorityValue}" />

                </sdg:SearchDataGrid.Columns>
            </sdg:SearchDataGrid>

            <!--  GridSplitter  -->
            <GridSplitter Grid.Column="1"
                          HorizontalAlignment="Stretch"
                          Width="5">
                <GridSplitter.Style>
                    <Style TargetType="{x:Type GridSplitter}">
                        <Setter Property="Background" Value="#CCCCCC" />
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#BBBBBB" />
                            </Trigger>
                            <Trigger Property="IsDragging" Value="True">
                                <Setter Property="Background" Value="#7A7A7A" />
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </GridSplitter.Style>
            </GridSplitter>

            <!--  Property Panel  -->
            <ScrollViewer Grid.Column="2"
                          Background="#F5F5F5"
                          VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="10">

                    <!--  DataGrid Properties Section  -->
                    <GroupBox Margin="0,0,0,10"
                              Padding="10"
                              Header="DataGrid Properties">
                        <StackPanel>

                            <!--  AutoSizeColumns  -->
                            <CheckBox IsChecked="{Binding ElementName=SearchDataGrid, Path=AutoSizeColumns}"
                                      Margin="0,5"
                                      Content="Auto-Size Columns"
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTip="Automatically adjusts column widths to fit visible content.&#x0a;Columns dynamically resize during scrolling to ensure data remains fully visible.&#x0a;Respects MinWidth and MaxWidth constraints." />

                            <!--  EnableRuleFiltering  -->
                            <CheckBox IsChecked="{Binding ElementName=SearchDataGrid, Path=EnableRuleFiltering}"
                                      Margin="0,5"
                                      Content="Enable Rule Filtering"
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTip="Enables advanced multi-criteria filtering with custom rules and logical operators.&#x0a;When disabled, only simple text-based filtering is available per column.&#x0a;This is the grid-level setting that can be overridden per-column." />

                            <!--  IsColumnChooserEnabled  -->
                            <CheckBox IsChecked="{Binding ElementName=SearchDataGrid, Path=IsColumnChooserEnabled}"
                                      Margin="0,5"
                                      Content="Enable Column Chooser"
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTip="Enables or disables the Column Chooser feature.&#x0a;When disabled:&#x0a;• Hides 'Show Column Chooser' menu items from context menus&#x0a;• Prevents the Column Chooser window from being shown&#x0a;• Automatically closes the Column Chooser if it's open&#x0a;Default: Enabled" />

                            <!--  IsColumnChooserVisible  -->
                            <CheckBox IsEnabled="{Binding ElementName=SearchDataGrid, Path=IsColumnChooserEnabled}"
                                      IsChecked="{Binding ElementName=SearchDataGrid, Path=IsColumnChooserVisible}"
                                      Margin="0,5"
                                      Content="Show Column Chooser"
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTip="Shows or hides the Column Chooser window.&#x0a;The Column Chooser allows users to show/hide columns by toggling checkboxes.&#x0a;The window is non-modal, allowing interaction with the grid while the chooser is open.&#x0a;&#x0a;Note: This control is disabled when 'Enable Column Chooser' is unchecked." />

                            <!--  IsColumnChooserConfinedToGrid  -->
                            <CheckBox IsEnabled="{Binding ElementName=SearchDataGrid, Path=IsColumnChooserEnabled}"
                                      IsChecked="{Binding ElementName=SearchDataGrid, Path=IsColumnChooserConfinedToGrid}"
                                      Margin="0,5"
                                      Content="Confine Column Chooser to Grid"
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTip="Confines the Column Chooser window to the grid's viewport bounds.&#x0a;When enabled:&#x0a;• The Column Chooser cannot be dragged outside the grid's visible area&#x0a;• Window position is automatically adjusted if it exceeds grid bounds&#x0a;When disabled:&#x0a;• The window can be moved freely anywhere on the screen&#x0a;Default: Disabled&#x0a;&#x0a;Note: This control is disabled when 'Enable Column Chooser' is unchecked." />

                            <!--  SelectionMode  -->
                            <StackPanel Margin="0,5">
                                <TextBlock Text="Selection Mode:"
                                           Margin="0,0,0,3"
                                           FontWeight="Bold" />
                                <ComboBox SelectedItem="{Binding ElementName=SearchDataGrid, Path=SelectionMode}"
                                          ToolTipService.ShowOnDisabled="True"
                                          ToolTip="Determines how many rows can be selected at once.&#x0a;• Single: Only one row can be selected at a time&#x0a;• Extended: Multiple rows can be selected using Ctrl/Shift">
                                    <ComboBox.Items>
                                        <DataGridSelectionMode>Single</DataGridSelectionMode>
                                        <DataGridSelectionMode>Extended</DataGridSelectionMode>
                                    </ComboBox.Items>
                                </ComboBox>
                            </StackPanel>

                            <!--  SelectionUnit  -->
                            <StackPanel Margin="0,5">
                                <TextBlock Text="Selection Unit:"
                                           Margin="0,0,0,3"
                                           FontWeight="Bold" />
                                <ComboBox SelectedItem="{Binding ElementName=SearchDataGrid, Path=SelectionUnit}"
                                          ToolTipService.ShowOnDisabled="True"
                                          ToolTip="Defines the granularity of selection.&#x0a;• Cell: Individual cells can be selected&#x0a;• FullRow: Entire rows are selected&#x0a;• CellOrRowHeader: Cells can be selected, or entire rows via row header">
                                    <ComboBox.Items>
                                        <DataGridSelectionUnit>Cell</DataGridSelectionUnit>
                                        <DataGridSelectionUnit>FullRow</DataGridSelectionUnit>
                                        <DataGridSelectionUnit>CellOrRowHeader</DataGridSelectionUnit>
                                    </ComboBox.Items>
                                </ComboBox>
                            </StackPanel>

                            <CheckBox IsChecked="{Binding ElementName=SearchDataGrid, Path=CanUserReorderColumns}"
                                      Margin="0,5"
                                      Content="Can User Re-Order Columns" />

                        </StackPanel>

                    </GroupBox>

                    <!--  Column Properties Section  -->
                    <GroupBox Margin="0,0,0,10"
                              Padding="10"
                              Header="Column Properties"
                              DataContext="{Binding ElementName=ColumnListBox, Path=SelectedItem}">
                        <StackPanel>

                            <!--  Column Selector  -->
                            <TextBlock Text="Select Column:"
                                       Margin="0,0,0,5"
                                       FontWeight="Bold" />
                            <ListBox x:Name="ColumnListBox"
                                     Height="150"
                                     SelectedIndex="0"
                                     ItemsSource="{Binding ElementName=SearchDataGrid, Path=Columns}"
                                     SelectionMode="Single"
                                     ToolTipService.ShowOnDisabled="True"
                                     ToolTip="Select a column to view and modify its properties below.&#x0a;Changes apply immediately to the selected column.">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Converter={StaticResource ColumnDisplayNameConverter}}" />
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <!--  FilterMemberPath  -->
                            <StackPanel IsEnabled="{Binding Converter={StaticResource NullToBooleanConverter}}" Margin="0,10,0,5">
                                <TextBlock Text="Filter Member Path:"
                                           Margin="0,0,0,3"
                                           FontWeight="Bold" />
                                <TextBox Text="{Binding Path=(sdg:GridColumn.FilterMemberPath), UpdateSourceTrigger=PropertyChanged}"
                                         ToolTipService.ShowOnDisabled="True"
                                         ToolTip="Specifies the property path for retrieving filter values.&#x0a;&#x0a;Resolution priority:&#x0a;1. FilterMemberPath (this property) - explicit override&#x0a;2. SortMemberPath - standard DataGrid column property&#x0a;3. Binding Path - extracted from column binding&#x0a;&#x0a;Use this to filter on a different property than what's displayed.&#x0a;Example: Display 'Department.Name' but filter on 'Department.Id'" />
                            </StackPanel>

                            <!--  ColumnDisplayName  -->
                            <StackPanel IsEnabled="{Binding Converter={StaticResource NullToBooleanConverter}}" Margin="0,5">
                                <TextBlock Text="Column Display Name:"
                                           Margin="0,0,0,3"
                                           FontWeight="Bold" />
                                <TextBox Text="{Binding Path=(sdg:GridColumn.ColumnDisplayName), UpdateSourceTrigger=PropertyChanged}"
                                         ToolTipService.ShowOnDisabled="True"
                                         ToolTip="User-friendly name shown in UI components.&#x0a;&#x0a;Used in:&#x0a;• Column Chooser dialog&#x0a;• Filter Panel tokens&#x0a;• Copy with Headers operations&#x0a;• Context menu operations&#x0a;&#x0a;If not set, text is extracted from the Header property.&#x0a;Supports both simple strings and complex header templates." />
                            </StackPanel>

                            <!--  EnableRuleFiltering  -->
                            <CheckBox IsEnabled="False"
                                      IsChecked="{Binding Path=(sdg:GridColumn.EnableRuleFiltering)}"
                                      Margin="0,5"
                                      Content="Enable Rule Filtering"
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTip="Enables complex filtering UI for this column (advanced filter button and rules editor).&#x0a;&#x0a;IMPORTANT: This property uses WPF property inheritance from SearchDataGrid.EnableRuleFiltering.&#x0a;To override per-column, you must set it explicitly in XAML - it cannot be changed at runtime.&#x0a;&#x0a;When disabled (or inherited as false):&#x0a;• Only simple text search is available&#x0a;• No advanced filter button shown&#x0a;• Single filter per column&#x0a;&#x0a;Column-level setting overrides grid-level setting when explicitly set." />

                            <!--  UseCheckBoxInSearchBox  -->
                            <CheckBox IsEnabled="{Binding Converter={StaticResource NullToBooleanConverter}}"
                                      IsChecked="{Binding Path=(sdg:GridColumn.UseCheckBoxInSearchBox)}"
                                      Margin="0,5"
                                      Content="Use CheckBox In SearchBox"
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTip="Forces checkbox filtering mode in the column's search box.&#x0a;&#x0a;When enabled:&#x0a;• Search box displays a tri-state checkbox instead of text input&#x0a;• Users filter for true, false, or null values&#x0a;• Checkbox cycles through states based on data (with/without nulls)&#x0a;&#x0a;Best for:&#x0a;• Boolean columns (bool, bool?)&#x0a;• Flag-based data&#x0a;• Yes/No fields&#x0a;&#x0a;Note: For DataGridCheckBoxColumn, this is detected automatically." />

                            <!--  DefaultSearchMode  -->
                            <StackPanel IsEnabled="{Binding Converter={StaticResource NullToBooleanConverter}}" Margin="0,5">
                                <TextBlock Text="Default Search Mode:"
                                           Margin="0,0,0,3"
                                           FontWeight="Bold" />
                                <ComboBox SelectedItem="{Binding Path=(sdg:GridColumn.DefaultSearchMode)}"
                                          ToolTipService.ShowOnDisabled="True"
                                          ToolTip="Determines the search type for simple textbox searches (temporary filters).&#x0a;This only affects typing directly in the search box, not the advanced filter UI.&#x0a;&#x0a;• Contains: Finds matches anywhere (default) - best for general text search&#x0a;• StartsWith: Matches from the beginning - best for IDs, codes, prefixes&#x0a;• EndsWith: Matches at the end - best for suffixes, file extensions&#x0a;• Equals: Exact match only - best for status codes, enum values&#x0a;&#x0a;Example: For a CustomerID column, use StartsWith so users can type '12'&#x0a;to find 'CUST-12345' instead of needing to type the full ID.&#x0a;&#x0a;The advanced filter button still shows all valid search types.">
                                    <ComboBox.Items>
                                        <sdg:DefaultSearchMode>Contains</sdg:DefaultSearchMode>
                                        <sdg:DefaultSearchMode>StartsWith</sdg:DefaultSearchMode>
                                        <sdg:DefaultSearchMode>EndsWith</sdg:DefaultSearchMode>
                                        <sdg:DefaultSearchMode>Equals</sdg:DefaultSearchMode>
                                    </ComboBox.Items>
                                </ComboBox>
                            </StackPanel>

                            <!--  IsSelectAllColumn  -->
                            <CheckBox IsEnabled="{Binding Converter={StaticResource NullToBooleanConverter}}"
                                      IsChecked="{Binding Path=(sdg:GridColumn.IsSelectAllColumn)}"
                                      Margin="0,5"
                                      Content="Is Select All Column"
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTip="Adds a 'Select All' checkbox to the column header for bulk boolean operations.&#x0a;&#x0a;Requirements:&#x0a;• Column must be boolean type (bool or bool?)&#x0a;• Works with DataGridCheckBoxColumn or boolean-bound columns&#x0a;&#x0a;Checkbox states:&#x0a;• Checked: All non-null values are true&#x0a;• Unchecked: All non-null values are false&#x0a;• Indeterminate: Mixed values (some true, some false)&#x0a;&#x0a;Clicking toggles all non-null values to the opposite state.&#x0a;Null values are always preserved unchanged.&#x0a;&#x0a;Scope of operation is controlled by SelectAllScope property.&#x0a;&#x0a;TIP: Disable column sorting to prevent values from 'disappearing'&#x0a;when they change and the grid reapplies filters/sort." />

                            <!--  SelectAllScope  -->
                            <StackPanel IsEnabled="{Binding Converter={StaticResource NullToBooleanConverter}}" Margin="0,5">
                                <StackPanel.Style>
                                    <Style TargetType="{x:Type StackPanel}">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Path=(sdg:GridColumn.IsSelectAllColumn)}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <TextBlock Text="Select All Scope:"
                                           Margin="0,0,0,3"
                                           FontWeight="Bold" />
                                <ComboBox SelectedItem="{Binding Path=(sdg:GridColumn.SelectAllScope)}"
                                          ToolTipService.ShowOnDisabled="True"
                                          ToolTip="Determines which rows are affected by the select-all checkbox.&#x0a;&#x0a;• FilteredRows (default): Only visible rows after filtering&#x0a;  - Respects active column filters&#x0a;  - Safe choice that matches user expectations&#x0a;&#x0a;• SelectedRows: Only currently selected rows/cells&#x0a;  - Shows affected row count in header: e.g., '(5)'&#x0a;  - Useful for bulk operations on selections&#x0a;  - Works with both row and cell selection modes&#x0a;&#x0a;• AllItems: All rows in ItemsSource regardless of filters&#x0a;  - Operates on complete dataset&#x0a;  - Use with caution as it affects hidden rows&#x0a;  - Good for global enable/disable flags&#x0a;&#x0a;Example: Use SelectedRows when you want users to select specific&#x0a;rows first, then bulk-toggle them with the checkbox.">
                                    <ComboBox.Items>
                                        <sdg:SelectAllScope>FilteredRows</sdg:SelectAllScope>
                                        <sdg:SelectAllScope>SelectedRows</sdg:SelectAllScope>
                                        <sdg:SelectAllScope>AllItems</sdg:SelectAllScope>
                                    </ComboBox.Items>
                                </ComboBox>
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </DockPanel>
</Window>
